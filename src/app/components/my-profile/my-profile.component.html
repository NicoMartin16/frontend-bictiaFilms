<section id="myprofile-details">
  <div class="myprofile-container">
    <h1>
      Datos del usuario
    </h1>
    <form class="form-inline myprofile-update" (ngSubmit)="updateEmail()" [formGroup]="formEmail">
      <p>
        {{user.email}}
      </p>
      <div class="form-group ml-4">
        <label for="email" class="sr-only"> Coloque su uevo correo</label>
        <input name="email" type="email" class="form-control" id="inputEmail2" formControlName="email"
          placeholder="Nuevo correo" required>
      </div>
      <button type="submit" class="btn btn-primary">
        Actualizar correo
      </button>
      <button type="button" class="btn btn-success" data-toggle="modal" data-target="#staticBackdrop">
        Cambiar contraseña
      </button>
    </form>
  </div>
</section>

<section *ngIf="isParent" class="parents-action">
  <div class="parents-action-header">
    <h2>
      Hijos creados
    </h2>
    <button type="button" class="btn" data-toggle="modal" data-target="#staticBackdrop2">
      Crear un nuevo hijo
    </button>
  </div>
  <div *ngFor="let son of sonList" class="card">
    <img src="https://www.ngenespanol.com/wp-content/uploads/2018/09/oso-grizzly-caza-770x395.png" class="card-img-top"
      alt="Default child images">
    <div class="card-body">
      <h5 class="card-title">{{son.name}}</h5>
      <button [value]="son._id" (click)="deleteChild($event)" class="btn btn-danger">Eliminar</button>
    </div>
  </div>
</section>

<div class="modal fade" id="staticBackdrop" data-backdrop="static" tabindex="-1" role="dialog"
  aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Cambio contraseña</h5>
      </div>
      <div class="modal-body">
        <form (ngSubmit)="updatePW()" [formGroup]="form">
          <div class="control">
            <label for="">Nueva Contraseña: </label>
            <input (keyup)="verifyPW()" name="password" class="form-control" type="password" formControlName="password">
          </div>
          <div class="control">
            <label for="">Confirma Contraseña: </label>
            <input (keyup)="verifyPW()" name="password_ver" class="form-control" type="password"
              formControlName="password_ver">
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-danger" data-dismiss="modal">Cancelar</button>
            <button [disabled]="flag" id="btn-update" disabled type="submit"
              class="btn btn-secondary">Actualizar</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="staticBackdrop2" data-backdrop="static" tabindex="-1" role="dialog"
  aria-labelledby="staticBackdropLabel2" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <form (ngSubmit)="createChild()">
        <div class="modal-header">
          <h5 class="modal-title" id="staticBackdropLabel2">Creación hijo</h5>
        </div>
        <div class="modal-body">
          <label for="filmcollapse">Nombre</label>
          <input class="ml-4" name="filmcollapse" collapse="filmcollapse" #name="ngModel" [(ngModel)]="child.name"
            type="text" placeholder="Nombre de tu hijo" #name>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Cancelar</button>
          <button type="submit" class="btn btn-primary">Crear</button>
        </div>
      </form>
    </div>
  </div>
</div>
